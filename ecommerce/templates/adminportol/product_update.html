{% extends "adminportol/base.html" %}
{% load crispy_forms_tags %}
{% block container %}
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">
  <!-- Navbar -->
{% include "adminportol/navbar.html" %}
  <!-- /.navbar -->
  <!-- Main Sidebar Container -->
{% include "adminportol/sidebar.html" %}
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->

    <!-- /.content-header -->
    <!-- Main content -->
    <div class="content">
      <div class="container-fluid">
          <!-- Horizontal Form -->
          <div class="card card-info">
            <div class="card-header">
              <h3 class="card-title">Product</h3>
            </div>
            
            <form class="form-horizontal" method="post" enctype='multipart/form-data'>
                {% csrf_token %}
                <div class="card-body">
                  {{ form.non_form_errors }}
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-2 col-form-label">Name</label>
                  <div class="col-sm-10">
                    {{form.name|as_crispy_field}}
                  </div>
                </div>
                
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-2 col-form-label">Category</label>
                  <div class="col-sm-10">
                    {{form.category|as_crispy_field}}
                  </div>
                </div>
                
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-2 col-form-label">Brand</label>
                  <div class="col-sm-10">
                    {{form.brand|as_crispy_field}}
                  </div>
                </div>
                
                <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-2 col-form-label">Price</label>
                    <div class="col-sm-10">
                      {{form.price|as_crispy_field}}
                    </div>
                  </div>

                <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-2 col-form-label">Description</label>
                    <div class="col-sm-10">
                      {{form.description|as_crispy_field}}
                    </div>
                </div>

                  <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-2 col-form-label">Long Description</label>
                    <div class="col-sm-10">
                      {{form.long_description|as_crispy_field}}
                    </div>
                </div>
                <h5 class="text-info">Add Product Images</h5>
                {{ product_meta_formset.non_form_errors }}
                {{ product_meta_formset.management_form }}
                {% for form in product_meta_formset %}
                <div class="row form-row spacer">
                <div class="d-flex py-1 inline {{ product_meta_formset.prefix }}">
                    <div class="ml-4">{{form.image.label}}: {{ form.image|as_crispy_field}}</div>
                  
                    <div class="input-group-append">
                      <button class="btn btn-success add-form-row">+</button>
                  </div>
                                   </div>
                                  </div>
                {% endfor %}

              </div>
              <!-- /.card-body -->
              <div class="card-footer">
                <button type="submit" class="btn btn-info">Update</button>
              </div>
              <!-- /.card-footer -->
            </form>
            </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
        </div>
        
        <!-- /.row -->
      </div>
      <!-- /.container-fluid -->
    </div>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->  
  {% endblock %}
